{"remainingRequest":"/Users/ben/Documents/source/BlockChainLottery/node_modules/babel-loader/lib/index.js?cacheDirectory!/Users/ben/Documents/source/BlockChainLottery/src/client/components/AsyncLoadComponent/AsyncLoadComponent.js","dependencies":[{"path":"/Users/ben/Documents/source/BlockChainLottery/src/client/components/AsyncLoadComponent/AsyncLoadComponent.js","mtime":1535785880051},{"path":"/Users/ben/Documents/source/BlockChainLottery/node_modules/cache-loader/dist/cjs.js","mtime":1535940776466},{"path":"/Users/ben/Documents/source/BlockChainLottery/node_modules/babel-loader/lib/index.js","mtime":1530808242000}],"contextDependencies":[],"result":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * 异步组件\n */\nexports.default = function (loadComponent) {\n    var placeholder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\n    return function (_ref) {\n        (0, _inherits3.default)(AsyncLoadComponent, _ref);\n\n        function AsyncLoadComponent() {\n            (0, _classCallCheck3.default)(this, AsyncLoadComponent);\n\n            var _this = (0, _possibleConstructorReturn3.default)(this, _ref.call(this));\n\n            _this.unmount = false;\n\n            _this.state = {\n                Child: null\n            };\n            return _this;\n        }\n\n        AsyncLoadComponent.prototype.componentWillUnmount = function componentWillUnmount() {\n            this.unmount = true;\n        };\n\n        AsyncLoadComponent.prototype.componentDidMount = function () {\n            var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n                var _ref3, Child;\n\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.next = 2;\n                                return loadComponent();\n\n                            case 2:\n                                _ref3 = _context.sent;\n                                Child = _ref3.default;\n\n                                if (!this.unmount) {\n                                    _context.next = 6;\n                                    break;\n                                }\n\n                                return _context.abrupt(\"return\");\n\n                            case 6:\n                                this.setState({\n                                    Child: Child\n                                });\n\n                            case 7:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n\n            function componentDidMount() {\n                return _ref2.apply(this, arguments);\n            }\n\n            return componentDidMount;\n        }();\n\n        AsyncLoadComponent.prototype.render = function render() {\n            var Child = this.state.Child;\n\n            return Child ? _react2.default.createElement(Child, this.props) : placeholder;\n        };\n\n        return AsyncLoadComponent;\n    }(_react.PureComponent || _react.Component);\n};",null]}